!function(e){"use strict";var t;e(document).ready(function(){t={ui:{sliders:function(){function e(e){var t=$(e).data("filter"),a="#"+t+"-a",r="#"+t+"-b";$(a).change(function(){var e=$(this).val();$(r).val(e)}),$(r).change(function(){var e=$(this).val();$(a).val(e)})}$("input[data-filter]").each(function(){e(this)})},createURL:function(){$("[data-urlname]").change(function(){var e="",t="";$("[data-urlname]").each(function(){var a=$(this).data("urlname"),r=$(this).attr("value"),o=$(this).val(),n=o.replace(/\s/g,"");t=a+"="+n+"&",$(this).is(":disabled")===!1&&$(this).is(":visible")&&o!==r&&(e=t+e)});var a=$("input[name=overlay]:checked").val();a=a.substring(1),e="?"+e+"r="+a,window.history.replaceState(null,null,e)})},getURL:function(){var e={};if($.each(document.location.search.substr(1).split("&"),function(t,a){var r=a.split("=");e[r[0].toString()]=r[1].toString()}),$.each(e,function(e,t){var a="[data-urlname="+e+"]";console.log(a),$(a).val(t),$("#sepia-a").change(),$("#sepia-b").change()}),window.location.href.indexOf("r=")>-1){var a=String(e.r),r='input[value="#'+a+'"]';console.log(r),$(r).prop("checked",!0).change(),t.ui.updateColorPicker(".color1.text",".color1.picker")}window.location.href.indexOf("c2=")>-1&&t.ui.updateColorPicker(".color2.text",".color2.picker"),console.log(e)},onChangesEvents:function(){$("#contain input").change(function(){var e="",t="";$("input[type=range]").each(function(){var a=$(this).val(),r=$(this).data("filter"),o=$(this).attr("value"),n=$(this).data("additional");void 0==n&&(n="");var i=r+"("+a+n+") ",l=r+"("+o+") ";$(this).is(":disabled")===!1&&(e+=i,t+=l)}),$("#filter .filter-css").html("<p>.myfilter { <p>&nbsp;&nbsp;&nbsp; filter: "+e+";</p> <p>&nbsp;&nbsp;&nbsp; -webkit-filter: "+e+";  <p>&nbsp;&nbsp;&nbsp; -moz-filter: "+e+"; <p>}"),$("#inlinestyle").html("<style> #filter-wrapper:hover {filter: "+t+" !important; -webkit-filter: "+t+" !important;  -moz-filter: "+t+" !important;}</style>"),$("#filter-wrapper").attr("style","filter: "+e+"; -webkit-filter: "+e+";  -moz-filter: "+e+";"),$("img[data-fullsize]").attr("style","filter: "+e+"; -webkit-filter: "+e+";  -moz-filter: "+e+";"),$("#overlay-radio-none").prop("checked")&&($("#filter .overlay-css").html(""),$("#overlay-css").html(""))})},newimage:function(){$("a[data-fullsize]").click(function(){event.preventDefault();var e=$(this).data("fullsize");$("#demoimage").attr("src",e),$(".preset img").attr("src",e),console.log(e)}),$("#imageURL").change(function(){var e=$(this).val();$("#demoimage").attr("src",e),$(".preset img").attr("src",e)})},showhidefilters:function(){$("label").click(function(){var e=$(this),t=$(this).data("filter");t="input[data-filter="+t+"]",$(t).is(":disabled")===!0?($(t).attr("disabled",!1),$("#sepia-a").change(),$(e).removeClass("disabled")):($(t).attr("disabled",!0),$(e).addClass("disabled"),$("#sepia-a").change())})},reset:function(){$("#reset").click(function(){$("input[data-filter]").each(function(){var e=$(this).attr("value");$(this).val(e),t.ui.killOverlay(),$("#overlay-radio-none").prop("checked",!0)}),$("#sepia-a").change()})},activeOverlay:function(){$("input[type=radio][name=overlay]").change(function(){var e=$("input[type=radio][name=overlay]:checked").val();"#overlay-radio-none"==e?t.ui.killOverlay():($(".overlay-group").hide(),$(e).css("display","inline-block"),$("#blending-mode").css("display","inline-block"),$(".overlay-group input:visible").change())})},killOverlay:function(){$(".overlay-group").hide(),$("#filter .overlay-css").html(""),$("#overlay-css").html(""),$("#blending-mode").hide()},sorting:function(){$("#sortable").sortable({axis:"y",containment:"#contain",scroll:!1,stop:function(e,t){$("#sepia-a").change()}})},colorPick:function(){$("#overlay-solid-color .color").spectrum({preferredFormat:"rgb",showInput:!0,showAlpha:!0,showPalette:!1,color:"rgba(112,55,200, 0.4)",move:function(e){t.ui.updateColor("#overlay-solid-color-text",e)},hide:function(e){t.ui.updateColor("#overlay-solid-color-text",e)}}),$("#overlay-linear-gradient-color1").spectrum({preferredFormat:"rgb",showInput:!0,showAlpha:!0,showPalette:!1,color:"rgba(255, 0, 134, 0.4)",move:function(e){t.ui.updateColor("#overlay-linear-gradient-color1-text",e)},hide:function(e){t.ui.updateColor("#overlay-linear-gradient-color1-text",e)}}),$("#overlay-linear-gradient-color2").spectrum({preferredFormat:"rgb",showInput:!0,showAlpha:!0,showPalette:!1,color:"rgba(16, 255, 0, 0.4)",move:function(e){t.ui.updateColor("#overlay-linear-gradient-color2-text",e)},hide:function(e){t.ui.updateColor("#overlay-linear-gradient-color2-text",e)}}),$("#overlay-radial-gradient-color1").spectrum({preferredFormat:"rgb",showInput:!0,showAlpha:!0,showPalette:!1,color:"rgba(100, 10, 10, 0.9)",move:function(e){t.ui.updateColor("#overlay-radial-gradient-color1-text",e)},hide:function(e){t.ui.updateColor("#overlay-radial-gradient-color1-text",e)}}),$("#overlay-radial-gradient-color2").spectrum({preferredFormat:"rgb",showInput:!0,showAlpha:!0,showPalette:!1,color:"rgba(83, 10, 100, 0.9)",move:function(e){t.ui.updateColor("#overlay-radial-gradient-color2-text",e)},hide:function(e){t.ui.updateColor("#overlay-radial-gradient-color2-text",e)}}),$(".overlay-solid-color").change(function(){console.log("solid");var e=$("#overlay-solid-color-text").val(),t=$("#blending-mode").val();$("#filter .overlay-css").html("<p>.myfilter {<p>&nbsp;&nbsp;&nbsp;position:relative; <p>} <p>.myfilter:after{ <p>&nbsp;&nbsp;&nbsp; content: ''; <p>&nbsp;&nbsp;&nbsp; display: block;  <p>&nbsp;&nbsp;&nbsp;  top: 0;  <p>&nbsp;&nbsp;&nbsp;  left: 0;  <p>&nbsp;&nbsp;&nbsp;  height: 100%;  <p>&nbsp;&nbsp;&nbsp;  width: 100%;  <p>&nbsp;&nbsp;&nbsp; position: absolute;  <p>&nbsp;&nbsp;&nbsp; background-color:"+e+";  <p>&nbsp;&nbsp;&nbsp; mix-blend-mode: "+t+"; <p> }");var a="<style>#filter-wrapper:hover:after {opacity: 0;}</style>";e="<style>#filter-wrapper:after{ background-color:"+e+"; mix-blend-mode: "+t+"; }</style>",$("#overlay-css").html(e+a)}),$(".overlay-linear-gradient-color").change(function(){console.log("gradient");var e=$("#overlay-linear-gradient-color1-text").val(),t=$("#overlay-linear-gradient-color2-text").val(),a=$("#blending-mode").val(),r="linear-gradient(to bottom,"+e+" 0%, "+t+" 100%);";$("#filter .overlay-css").html("<p>.myfilter {<p>&nbsp;&nbsp;&nbsp;position:relative; <p>} <p>.myfilter:after{ <p>&nbsp;&nbsp;&nbsp; content: ''; <p>&nbsp;&nbsp;&nbsp; display: block;  <p>&nbsp;&nbsp;&nbsp;  top: 0;  <p>&nbsp;&nbsp;&nbsp;  left: 0;  <p>&nbsp;&nbsp;&nbsp;  height: 100%;  <p>&nbsp;&nbsp;&nbsp;  width: 100%;  <p>&nbsp;&nbsp;&nbsp; position: absolute;  <p>&nbsp;&nbsp;&nbsp; background:"+r+";  <p>&nbsp;&nbsp;&nbsp; mix-blend-mode: "+a+"; <p> }");var o="<style>#filter-wrapper:hover:after {opacity: 0;}</style>";r="<style>#filter-wrapper:after{ background:"+r+"; mix-blend-mode: "+a+"; }</style>",$("#overlay-css").html(r+o)}),$(".overlay-radial-gradient-color").change(function(){console.log("radial");var e=$("#overlay-radial-gradient-color1-text").val(),t=$("#overlay-radial-gradient-color2-text").val(),a=$("#blending-mode").val(),r="radial-gradient(ellipse at center, "+e+" 0%, "+t+" 100%);";$("#filter .overlay-css").html("<p>.myfilter {<p>&nbsp;&nbsp;&nbsp;position:relative; <p>} <p>.myfilter:after{ <p>&nbsp;&nbsp;&nbsp; content: ''; <p>&nbsp;&nbsp;&nbsp; display: block;  <p>&nbsp;&nbsp;&nbsp;  top: 0;  <p>&nbsp;&nbsp;&nbsp;  left: 0;  <p>&nbsp;&nbsp;&nbsp;  height: 100%;  <p>&nbsp;&nbsp;&nbsp;  width: 100%;  <p>&nbsp;&nbsp;&nbsp; position: absolute;  <p>&nbsp;&nbsp;&nbsp; background:"+r+";  <p>&nbsp;&nbsp;&nbsp; mix-blend-mode: "+a+"; <p> }");var o="<style>#filter-wrapper:hover:after {opacity: 0;}</style>";r="<style>#filter-wrapper:after{ background:"+r+"; mix-blend-mode: "+a+"; }</style>",$("#overlay-css").html(r+o)})},presetSet:function(e,t){var a="#"+e+"-a",r="#"+e+"-b";void 0!==t?($(a).val(t),$(r).val(t)):(t=$(a).attr("value"),$(a).val(t),$(r).val(t))},gradientCheck:function(e){var a=$(e).data("gradient");a='[value="'+a+'"]',$("input[name=overlay]").filter(a).prop("checked",!0);var r=$(e).data("color1"),o=$(e).data("color2");$(".overlay-group input.color1").val(r),$(".overlay-group input.color2").val(o);var n=$(e).data("blending-mode");$("#blending-mode").val(n),t.ui.updateColorPicker(".overlay-group input.color1.text",".overlay-group input.color1.picker"),t.ui.updateColorPicker(".overlay-group input.color2.text",".overlay-group input.color2.picker")},updateColorPicker:function(e,t){$(t).spectrum("set",$(e).val())},updateColor:function(e,t){$(e).val(t?t:""),$(e).change()},presets:function(){$(".preset").click(function(){event.preventDefault();var e=$(this).data("brightness");t.ui.presetSet("brightness",e);var a=$(this).data("contrast");t.ui.presetSet("contrast",a);var r=$(this).data("grayscale");t.ui.presetSet("grayscale",r);var o=$(this).data("huerotate");t.ui.presetSet("hue-rotate",o);var n=$(this).data("saturate");t.ui.presetSet("saturate",n);var i=$(this).data("sepia");t.ui.presetSet("sepia",i),t.ui.gradientCheck(this),$("#sepia-a").change(),$("input[type=radio]").change()})}}},t.ui.sliders(),t.ui.onChangesEvents(),t.ui.sorting(),t.ui.showhidefilters(),t.ui.reset(),t.ui.presets(),t.ui.newimage(),t.ui.activeOverlay(),t.ui.colorPick(),t.ui.createURL(),t.ui.getURL()})}(jQuery);